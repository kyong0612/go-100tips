# 20230926

## エラーを2度処理する

- 1つのエラーに対してログが2行あるのは問題
  - デバックが難しく、複雑になるため

## エラー関連まとめ

- panicを使うのは、Goでエラーに対処するための選択肢の1つ
  - 例えばプログラマーエラーを知らせるときや、必須の依存関係をロードできなかった時など、回復不可能な状況でのみ、控えめに使われるべき
- エラーをラップすることで、エラーをマークしたり、文脈を追加したりできる
  - しかし、エラーラッピングによって、呼び出し元が元のエラーを利用できるようになり、コードの結合という潜在的な問題が発生する
- Go1.13のエラーラッピングを%w verbとfmt.Errorfで使う場合、エラーや型や値と比較するには、それぞれerrors.Asとerrors.Isを使う
